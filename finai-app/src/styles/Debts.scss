.debt-list-grid {
    display: flex; // Mantener flexbox columna si es el diseño deseado
    flex-direction: column;
    gap: $spacing-lg; // Usar variable
    margin-top: $spacing-lg; // Usar variable

    // Si quieres cambiar a grid en pantallas más grandes:
    @include md-up {
        // display: grid;
        // grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        // gap: $spacing-xl;
    }

    // Responsive para el layout de columna (si necesitas ajustar el gap, etc.)
    @include mobile-only {
        gap: $spacing-md; // Menos espacio en móvil
        margin-top: $spacing-md;
    }
}


/* --- Tarjeta de Deuda (.debt-card) --- */
// Refactorizado y Anidado
.debt-card {
    background-color: $color-panel-bg; // Usar variable
    border-radius: $border-radius-lg; // Usar variable
    padding: $spacing-lg $spacing-xl; // Usar variables
    box-shadow: $box-shadow-md; // Usar variable
    display: flex;
    align-items: center;
    gap: $spacing-lg; // Usar variable
    @include transition-smooth((transform, box-shadow, border-color)); // Usar mixin
    position: relative;

    &:hover {
        // Estado hover
        transform: translateY(-5px);
        box-shadow: 0 0px 25px rgba($color-accent-orange, 0.4); // Usar variable y rgba
        // Puedes añadir un borde de color al pasar el ratón
        // border-color: $color-accent-orange;
    }

    .debt-icon-status {
        // Contenedor icono y badge de estado (anidado)
        flex-shrink: 0;
        text-align: center;
    }

    .debt-icon-bg {
        // Fondo del icono (anidado)
        width: 80px;
        height: 80px; // Usar variable
        border-radius: $border-radius-md; // Usar variable
        @include flex-center; // Usar mixin
        margin-bottom: $spacing-xs * 1.5; // Usar variable
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05); // Usar variable

        // background-color definido por JS o estado en el padre
        i {
            // Icono (anidado)
            font-size: 2.5em; // Usar variable
            color: $color-text-light; // Usar variable
        }
    }

    // Colores del fondo del icono por estado (anidado en el padre .debt-card)
    &[data-status="pagada"] .debt-icon-bg {
        background-color: $color-accent-green;
    }

    &[data-status="pendiente"] .debt-icon-bg {
        background-color: $color-accent-orange;
    }

    &[data-status="parcial"] .debt-icon-bg {
        background-color: $color-accent-blue;
    }

    // Ajustar color del icono si el fondo es muy claro (como en el original)
    &[data-status="pendiente"] .debt-icon-bg i {
        color: $color-text-dark;
    }

    // Ejemplo

    .debt-status-badge {
        // Badge de estado (anidado)
        display: inline-block;
        padding: $spacing-xs $spacing-sm; // Usar variables
        @include pill-shape; // Usar mixin
        font-size: 0.8em; // Usar variable
        font-weight: 700; // Usar variable
        color: $color-text-light; // Usar variable
        // background-color definido por JS o estado en el padre (.debt-card)
    }

    // Clases de color para el badge de estado (anidado en el padre .debt-card)
    & .status-paid {
        background-color: $color-accent-green;
    }

    & .status-pending {
        background-color: $color-accent-orange;
    }

    & .status-partial {
        background-color: $color-accent-blue;
    }


    .debt-info {
        // Contenedor de información (anidado)
        flex-grow: 1;
        display: grid; // Usar grid para organizar items
        grid-template-columns: repeat(2, 1fr); // Dos columnas
        gap: $spacing-sm $spacing-md; // Espacio entre items
        align-items: center;

        .debt-creditor {
            // Acreedor (anidado)
            grid-column: 1 / 3; // Ocupa ambas columnas
            margin: 0 0 $spacing-xs 0; // Usar variable
            font-size: 1.3em; // Usar variable
            font-weight: 800;
            color: $color-text-dark; // Usar variable
            @include text-ellipsis; // Usar mixin
        }

        .debt-description {
            // Descripción (anidado)
            grid-column: 1 / 3;
            margin: 0 0 $spacing-sm 0; // Usar variable
            font-size: 0.9em; // Usar variable
            color: $color-text-muted; // Usar variable
            @include text-ellipsis; // Usar mixin
        }

        .info-item {
            // Cada línea de info (anidado)
            line-height: 1.3;

            .info-label {
                // Etiqueta (anidado)
                display: block;
                font-size: 0.8em;
                color: $color-text-muted;
                margin-bottom: $spacing-xs/2; // Usar variables
            }

            .info-value {
                // Valor (anidado)
                font-weight: 700;
                font-size: 1.05em;
                color: $color-text-dark; // Usar variables
            }

            .info-value.balance {
                color: $color-accent-red;
            }

            // Rojo pendiente (usar variable)
            .info-value.status-text {
                font-weight: 700;
                font-size: $base-font-size;
            }

            // Usar variable
        }

        .debt-payment-suggestion {
            // Hereda estilos de .info-item si es necesario
            grid-column: 1 / 3;     // Hacer que ocupe las 2 columnas del grid
            margin-top: $spacing-xs; // Un pequeño espacio arriba (ajusta si es necesario)
            padding-top: $spacing-xs; // Quizás un padding si añades borde
            // border-top: 1px dashed $color-border; // Opcional: un separador ligero

            .suggestion-text {
                display: inline-flex; // Alinear icono y texto
                align-items: center;
                font-size: 0.85em;       // Tamaño más pequeño
                font-style: italic;      // Cursiva para indicar que es una sugerencia
                color: $color-text-muted; // Un color discreto
                line-height: 1.3;        // Ajustar interlineado si es necesario

                i { // Estilo para el icono de calculadora
                    // El estilo inline ya pone margen, pero puedes añadir más
                     color: $color-accent-blue; // O el color que prefieras
                     opacity: 0.8; // Hacerlo un poco más sutil
                }
            }
            
            // Si decides no usar la etiqueta "Sugerencia" que comenté en el JSX:
             .info-label { display: none; } 
        }
        // --- FIN: NUEVOS ESTILOS PARA SUGERENCIA ---

        // Color del saldo si está pagada (anidado en el padre .debt-card)
        &[data-status="pagada"] .info-value.balance {
            color: $color-accent-green; // Verde pagada
            text-decoration: line-through;
        }
    }

    /* Estilos Botones Acción Tarjeta (.debt-actions) */
    .debt-actions {
        // Contenedor de acciones (anidado)
        display: flex;
        flex-direction: column; // Apilados por defecto
        gap: $spacing-sm; // Usar variable
        align-items: center;

        .btn-icon {
            // Botones icono dentro de acciones (anidado)
            background-color: lighten($color-border, 5%); // Fondo ligero (usar variable)
            color: $color-text-dark; // Color icono (usar variable)
            border-radius: 50%; // Redondo
            width: 40px;
            height: 40px; // Tamaño
            @include flex-center; // Centrar contenido
            font-size: 1.1em; // Tamaño icono
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); // Sombra
            @include transition-smooth((background-color, color, transform)); // Transición

            &:hover {
                transform: scale(1.1);
            }

            // Hover
        }

        // Colores específicos de los botones de acción
        .btn-edit {
            background-color: lighten($color-accent-purple, 25%);
            color: $color-accent-purple;
        }

        .btn-delete {
            background-color: lighten($color-accent-red, 25%);
            color: $color-accent-red;
        }

        .btn-add-payment {
            background-color: lighten($color-accent-green, 25%);
            color: $color-accent-green;
        }

        .btn-add-payment:hover {
            background-color: lighten($color-accent-green, 15%);
            box-shadow: 0 0px 15px rgba($color-accent-green, 0.4);
        }

        .btn-edit:hover {
            background-color: lighten($color-accent-purple, 15%);
            box-shadow: 0 0px 15px rgba($color-accent-purple, 0.4);
        }

        .btn-delete:hover {
            background-color: lighten($color-accent-red, 15%);
            box-shadow: 0 0px 15px rgba($color-accent-red, 0.4);
        }
    }

    // Responsive para la tarjeta de deuda individual
    @include md-up {
        // En tabletas y más grandes (para ajustar a grid si se cambia)
        // Si cambiaste .debt-list-grid a grid, ajusta aquí el layout interno de la tarjeta si es necesario
        // flex-direction: row; // Ejemplo: poner icono/info al lado
        // align-items: center;
    }

    @include mobile-only {
        // En pantallas pequeñas (móvil)
        flex-direction: column; // Apilar icono/estado arriba, info en el medio, acciones abajo
        align-items: stretch; // Estirar a ancho completo
        gap: $spacing-md; // Espacio entre secciones

        .debt-icon-status {
            // Anidado
            display: flex; // Poner icono y badge lado a lado
            align-items: center;
            justify-content: space-between;
            margin-bottom: $spacing-sm; // Espacio debajo

            .debt-icon-bg {
                width: 60px;
                height: 60px;
                margin-bottom: 0;

                i {
                    font-size: 2em;
                }
            }

        }

        .debt-info {
            // Anidado
            grid-template-columns: 1fr; // Una sola columna para la info
            gap: $spacing-xs $spacing-md; // Ajustar espacio

            .debt-creditor,
            .debt-description {
                grid-column: 1 / 2;
            }

            // Asegurar que ocupan 1 columna
        }

        .debt-actions {
            // Anidado
            flex-direction: row; // Poner acciones lado a lado
            justify-content: flex-end; // Alinear a la derecha
            margin-top: $spacing-sm; // Espacio arriba
            padding-top: $spacing-sm; // Padding arriba
            border-top: 1px solid $color-border; // Separador superior
            gap: $spacing-xs; // Menos espacio

            .btn-icon {
                width: 35px;
                height: 35px;
                font-size: 1em;
                padding: 2px;
            }

            // Reducir tamaño botones
            .btn-add-payment {
                order: -1;
            }

            // Poner el botón de pago primero
        }
    }
}


/* --- Sección Resumen Inferior (.summary-footer) --- */
// Refactorizado y con Responsividad
// Este estilo base ya debería estar en _layout.scss o _components.scss si es común.
// Si lo está, ignora este bloque y solo añade la media query responsiva si es específica de esta página.
.summary-footer {
    display: grid; // Usar grid (el original era grid o flex?)
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); // Usar variables
    gap: $spacing-md; // Usar variable
    margin-top: $spacing-xxxl; // Usar variable
    padding-top: $spacing-lg; // Usar variable
    border-top: 1px solid $color-border; // Usar variable

    .summary-box {
        // Caja de resumen individual
        background-color: $color-panel-bg; // Usar variable
        border-radius: $border-radius-lg; // Usar variable
        padding: $spacing-md $spacing-lg; // Usar variables
        text-align: center;
        box-shadow: $box-shadow-sm; // Usar variable

        // Colores de borde según tipo (Debts)
        &.blue {
            background-color: lighten($color-accent-blue, 20%);
            border-left: 5px solid $color-accent-blue;
        }

        &.green {
            background-color: lighten($color-accent-green, 20%);
            border-left: 5px solid $color-accent-green;
        }

        &.purple {
            background-color: lighten($color-accent-purple, 20%);
            border-left: 5px solid $color-accent-purple;
        }

        .summary-label {
            display: block;
            font-size: 0.85em;
            color: $color-text-muted;
            margin-bottom: $spacing-xs;
        }

        strong {
            font-size: 1.4em;
            font-weight: 800;
            color: $color-text-dark;
            display: block;
        }

        small {
            font-size: 0.75em;
            color: $color-text-muted;
            display: block;
            margin-top: $spacing-xs/2;
        }
    }

    // Responsive para el summary footer
    @include mobile-only {
        // En móviles
        grid-template-columns: 1fr; // Apilar cajas en una columna
        gap: $spacing-sm; // Menos espacio

        .summary-box {
            padding: $spacing-sm $spacing-md;
        }

        // Ajustar padding
        .summary-box strong {
            font-size: 1.2em;
        }

        // Ajustar tamaño fuente
    }
}
